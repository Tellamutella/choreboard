function requestReward(requestHTML, unlinkHTML) {
  const state = document.getElementById("<%= @reward.name.strip.split[0] %>-request-state");
  const requestLink = document.getElementById("<%= @reward.name.strip.split[0] %>-request-link");
  state.innerHTML = requestHTML;
  requestLink.innerHTML = unlinkHTML;
}

<% unless @reward_request.errors.any? %>
  requestReward("(Submitted, current state: Pending)", "<%= @reward.name %>");
<% end %>
